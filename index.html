<!-- Little essay I wrote just to test out some basic html and css stuff -->
<!DOCTYPE html>
<html>
<head>
    <title>Heros, Villains, and the spectrum between them</title>
    <link rel="stylesheet" href="csstest.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
</head>
<body>

    <section id="welcome-section" class="centered">
        <blockquote class="lyric-quote">
            "Dark knight feeling, die or be a hero Or live long enough to see yourself become a villain"
            <cite> - Jay-Z, So Appalled - Kanye West (ft. Jay-Z) (2010)</cite>
        </blockquote>

        <main id="content">
            <h1>Heroes, Villains, and the Spectrum Between Them</h1>
        </main>

        <nav>
            <button id="loadEssay">Click Here</button>
        </nav>
    </section>
    

    <section id="essay-section" style="display: none"></section>

    <script>
        const welcomeSection = document.getElementById("welcome-section");
        const essaySection = document.getElementById("essay-section");
        const toggleBtn = document.getElementById("loadEssay");

        let essayLoaded = false;
        let showingWelcome = true;

        toggleBtn.addEventListener("click", () => {
            if (showingWelcome) {
                // Show essay + blockquote at top
                if (!essayLoaded) {
                    fetch("essay.html")
                        .then(response => {
                            if (!response.ok) throw new Error(`HTTP error: ${response.status}`);
                            return response.text();
                        })
                        .then(html => {
                            const parser = new DOMParser();
                            const doc = parser.parseFromString(html, "text/html");
                            essaySection.innerHTML = doc.body.innerHTML;
                            essayLoaded = true;
                        })
                        .catch(err => {
                            essaySection.innerHTML = `<p style="color:red;">Failed to load essay: ${err.message}</p>`;
                        })
                        .finally(() => {
                            welcomeSection.classList.remove("centered");
                            essaySection.style.display = "block";
                            toggleBtn.textContent = "Back to Welcome Page";
                            showingWelcome = false;
                        });
                } else {
                    welcomeSection.classList.remove("centered");
                    essaySection.style.display = "block";
                    toggleBtn.textContent = "Back to Welcome Page";
                    showingWelcome = false;
                }
            } else {
                // Back to welcome, hide essay
                essaySection.style.display = "none";
                welcomeSection.classList.add("centered");
                toggleBtn.textContent = "Read Essay";
                showingWelcome = true;
            }
        });
    </script>
</body>
</html>
